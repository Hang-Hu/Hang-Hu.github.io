<h2 id="reason">Reason</h2>

<p><code class="highlighter-rouge">hibernateUtil.create(entity)</code> returns Serializable which is identifier(id) for entity Class, which is an Integer in class, so it throws exception in runtime.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public &lt;T&gt; long createEntity(T entity) {
    return (long)hibernateUtil.create(entity);
}
</code></pre>
</div>

<h2 id="solution">Solution</h2>

<p>Use Number as proxy:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public &lt;T&gt; long createEntity(T entity) {
    Number number= (Number) hibernateUtil.create(entity);
    return number.longValue();
}
</code></pre>
</div>
