<h2 id="reason">Reason</h2>

<p><code class="highlighter-rouge">DriverManagerDataSource</code> indirectly implements <code class="highlighter-rouge">DataSource</code> in sql instead of <code class="highlighter-rouge">activiation</code>, my import of <code class="highlighter-rouge">activiation</code> makes it fails to find the right bean.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import javax.activation.DataSource;
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>public class AppConfig {
    @Bean(name="dataSource",autowire = Autowire.BY_TYPE)
    public DriverManagerDataSource dataSource(){
        DriverManagerDataSource driverManagerDataSource=new DriverManagerDataSource();
        driverManagerDataSource.setDriverClassName("com.mysql.jdbc.Driver");
        driverManagerDataSource.setUrl("jdbc:mysql://localhost:3306/TestSpringSecurity");
        driverManagerDataSource.setUsername("joanna");
        driverManagerDataSource.setPassword("joanna123.");
        return driverManagerDataSource;
    }
    //......
}
</code></pre>
</div>

<h2 id="solution">Solution</h2>

<p>Change <code class="highlighter-rouge">activation</code> to:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import javax.sql.DataSource;
</code></pre>
</div>
